<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
  <title>Konami Code</title>
</head>
<body>
  <script>
    const allowedKeys = {
            37: 'left',
            38: 'up',
            39: 'right',
            40: 'down',
            65: 'a',
            66: 'b'
          };
    let konamiCodePosition = 0;
    // const secretCode = ["ArrowUp", "ArrowUp", "ArrowDown", "ArrowDown", "ArrowLeft", "ArrowLeft", "ArrowRight", "ArrowRight", "b", "a", "Enter"];
    const konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];


    window.addEventListener('keyup', (e) => {
      // get the value of the key code from the key map
      let key = allowedKeys[e.keyCode];
      // get the value of the required key from the konami code
      let requiredKey = konamiCode[konamiCodePosition];

      // compare the key with the required key
      if (key === requiredKey) {
        konamiCodePosition++;
        if (konamiCodePosition === konamiCode.length) {
          cornify_add();
          konamiCodePosition = 0;
        }
      } else {
        konamiCodePosition = 0;
      }
    //   pressed.push(e.key);
    //   pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
    //   if(pressed.join('').includes(secretCode)) {
    //     console.log('great')
    //     cornify_add();
    //   }
    })
  </script>
</body>
</html>